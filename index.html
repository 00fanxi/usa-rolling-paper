<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>USA Trip Rolling Paper âœˆï¸</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Inter:wght@300;400;500;600&family=Patrick+Hand&display=swap" rel="stylesheet" />
</head>
<body>

  <!-- Background stars / particles -->
  <div class="particles" id="particles"></div>

  <!-- Write Panel Overlay -->
  <div class="write-panel-overlay" id="writePanelOverlay"></div>

  <!-- Write Panel (slide-in from right) -->
  <aside class="write-panel" id="writePanel">
    <button class="write-panel-close" id="writePanelClose" aria-label="Close">âœ•</button>
    <div class="card write-card">
      <div class="card-header">
        <span class="card-icon">âœï¸</span>
        <h2>Write a Message</h2>
      </div>

      <div class="form-group">
        <label for="authorInput">Your Name</label>
        <input type="text" id="authorInput" placeholder="e.g. Sarah from NYC" maxlength="30" />
      </div>

      <div class="form-group">
        <label for="toInput">To (optional)</label>
        <input type="text" id="toInput" placeholder="e.g. Everyone, or a specific friend" maxlength="30" />
      </div>

      <div class="form-group">
        <label for="messageInput">Your Message</label>
        <textarea id="messageInput" placeholder="Share your favorite travel memory, a funny moment, or just say hi! ğŸ˜„" maxlength="1000" rows="4"></textarea>
        <span class="char-count"><span id="charCount">0</span>/1000</span>
      </div>

      <div class="form-group">
        <label>Pick a Sticker</label>
        <div class="sticker-picker">
          <button class="sticker-btn active" data-sticker="ğŸ—½">ğŸ—½</button>
          <button class="sticker-btn" data-sticker="ğŸŒµ">ğŸŒµ</button>
          <button class="sticker-btn" data-sticker="ğŸ°">ğŸ°</button>
          <button class="sticker-btn" data-sticker="ğŸ„">ğŸ„</button>
          <button class="sticker-btn" data-sticker="ğŸ¸">ğŸ¸</button>
          <button class="sticker-btn" data-sticker="ğŸˆ">ğŸˆ</button>
          <button class="sticker-btn" data-sticker="ğŸŒ‰">ğŸŒ‰</button>
          <button class="sticker-btn" data-sticker="ğŸ¤ ">ğŸ¤ </button>
          <button class="sticker-btn" data-sticker="ğŸ”">ğŸ”</button>
          <button class="sticker-btn" data-sticker="ğŸ¡">ğŸ¡</button>
          <button class="sticker-btn" data-sticker="âœˆï¸">âœˆï¸</button>
          <button class="sticker-btn" data-sticker="ğŸ“¸">ğŸ“¸</button>
          <button class="sticker-btn sticker-btn--img" data-sticker='<img src="sticker-person.svg" width="28" height="28" alt="person">' title="Person">
            <img src="sticker-person.svg" width="28" height="28" alt="person" />
          </button>
        </div>
      </div>

      <div class="form-group">
        <label>Card Style</label>
        <div class="color-picker">
          <button class="color-btn active" data-color="navy" style="background: linear-gradient(135deg, #1a3a6b, #2e5eaa)" title="Navy Blue"></button>
          <button class="color-btn" data-color="red" style="background: linear-gradient(135deg, #c0392b, #e74c3c)" title="Stars & Stripes Red"></button>
          <button class="color-btn" data-color="sky" style="background: linear-gradient(135deg, #2980b9, #74b9ff)" title="Canyon Sky"></button>
          <button class="color-btn" data-color="desert" style="background: linear-gradient(135deg, #c0845a, #e67e22)" title="Desert Sunset"></button>
          <button class="color-btn" data-color="forest" style="background: linear-gradient(135deg, #27ae60, #2ecc71)" title="Forest Green"></button>
          <button class="color-btn" data-color="gold" style="background: linear-gradient(135deg, #d4ac0d, #f1c40f)" title="Hollywood Gold"></button>
        </div>
      </div>

      <button class="submit-btn" id="submitBtn">
        <span>Post Your Message!</span>
        <span class="btn-icon">ğŸ“®</span>
      </button>
    </div>
  </aside>

  <!-- Header -->
  <header class="header">
    <div class="header-flag">ğŸ‡ºğŸ‡¸</div>
    <div class="header-inner">
      <h1 class="logo">USA Trip <span class="logo-accent">Rolling Paper</span></h1>
      <p class="subtitle">âœˆï¸ Leave a message for your fellow travelers! ğŸ—½</p>
      <div class="header-tags">
        <span class="tag">#RoadTrip</span>
        <span class="tag">#USATour</span>
        <span class="tag">#TravelMemories</span>
        <span class="tag">#NewFriends</span>
        <span class="tag">#TourGate</span>
      </div>

      <!-- Guide Characters -->
      <div class="guides">
        <div class="guide-card" style="--delay:0.6s">
          <div class="guide-avatar">
            <img src="guide-suun.png" alt="ìˆ˜ì€" />
          </div>
          <div class="guide-name">ìˆ˜ì€</div>
          <div class="guide-trait">í™œë°œí•œ ì—ë„ˆì§€ âœ¨</div>
        </div>
        <div class="guide-card" style="--delay:0.75s">
          <div class="guide-avatar">
            <img src="guide-miyoung.png" alt="ë¯¸ì˜" />
          </div>
          <div class="guide-name">ë¯¸ì˜</div>
          <div class="guide-trait">ë¯¿ìŒì§í•œ ë¦¬ë” ğŸ’ª</div>
        </div>
        <div class="guide-card" style="--delay:0.9s">
          <div class="guide-avatar">
            <img src="guide-suwan.png" alt="ìˆ˜ì™„" />
          </div>
          <div class="guide-name">ìˆ˜ì™„</div>
          <div class="guide-trait">ìœ ì¾Œí•œ ë¶„ìœ„ê¸° ğŸ˜„</div>
        </div>
      </div>

      <!-- Group Photo -->
      <div class="group-photo-wrap" style="--delay:1.05s">
        <img src="group-photo.png" alt="ë‹¨ì²´ì‚¬ì§„" class="group-photo" />
        <p class="group-photo-caption">ğŸ“¸ The 16th AI-SW MAESTRO Â· Demo Day @ UC Berkeley</p>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main class="main">

    <!-- Message Board -->
    <section class="board-section">
      <div class="board-header">
        <div class="board-title">
          <h2>ğŸ“¬ Message Board</h2>
          <span class="message-count" id="messageCount">0 messages</span>
        </div>
        <div class="board-actions">
          <button class="write-toggle-btn" id="writeToggleBtn">âœï¸ Write a Message</button>
          <button class="filter-btn active" data-filter="all">All</button>
          <button class="filter-btn" data-filter="recent">Recent</button>
          <button class="share-btn" id="shareBtn" title="Share a screenshot">ğŸ“¸ Share</button>
        </div>
      </div>

      <div class="board" id="board">
        <div class="empty-state" id="emptyState">
          <div class="empty-icon">ğŸ“­</div>
          <p>No messages yet.<br/>Be the first one to leave a note!</p>
        </div>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="footer">
    <p>ğŸ—ºï¸ Made with â¤ï¸ by SW Maestro 16ê¸° &nbsp;|&nbsp; ğŸ‡ºğŸ‡¸ USA Trip 2026</p>
  </footer>

  <!-- Modal -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="modal" id="modal">
      <button class="modal-close" id="modalClose">âœ•</button>

      <!-- View Mode -->
      <div id="modalView">
        <div class="modal-sticker" id="modalSticker"></div>
        <div class="modal-to" id="modalTo"></div>
        <div class="modal-author" id="modalAuthor"></div>
        <div class="modal-message" id="modalMessage"></div>
        <div class="modal-date" id="modalDate"></div>
        <div class="modal-actions">
          <button class="modal-action-btn edit-btn" id="editBtn">âœï¸ Edit</button>
        </div>
      </div>

      <!-- Edit Mode -->
      <div id="modalEdit" style="display:none;">
        <div class="modal-sticker" id="editSticker"></div>
        <div class="edit-form">
          <label class="edit-label">Name</label>
          <input type="text" id="editAuthor" maxlength="30" />
          <label class="edit-label">To (optional)</label>
          <input type="text" id="editTo" maxlength="30" />
          <label class="edit-label">Message</label>
          <textarea id="editMessage" maxlength="1000" rows="4"></textarea>
        </div>
        <div class="modal-actions">
          <button class="modal-action-btn save-btn" id="saveEditBtn">ğŸ’¾ Save</button>
          <button class="modal-action-btn cancel-btn" id="cancelEditBtn">âœ• Cancel</button>
        </div>
      </div>

    </div>
  </div>

  <!-- Share Modal -->
  <div class="modal-overlay" id="shareOverlay">
    <div class="modal share-modal" id="shareModal">
      <button class="modal-close" id="shareModalClose">âœ•</button>
      <div class="share-modal-title">ğŸ“¸ Share This Board</div>
      <div class="share-preview-wrap">
        <img id="sharePreviewImg" src="" alt="Screenshot preview" />
        <div class="share-preview-loading" id="sharePreviewLoading">
          <span style="font-size:2rem;animation:spin 1s linear infinite;display:inline-block">â³</span>
          <p>Capturing screenshot...</p>
        </div>
      </div>
      <div class="share-actions">
        <button class="share-action-btn" id="shareDownloadBtn">â¬‡ï¸ Download</button>
        <button class="share-action-btn" id="shareCopyBtn">ğŸ“‹ Copy Image</button>
        <button class="share-action-btn share-native-btn" id="shareNativeBtn">ğŸ”— Share</button>
      </div>
      <p class="share-url-hint">ğŸŒ <a href="https://00fanxi.github.io/usa-rolling-paper/" target="_blank">00fanxi.github.io/usa-rolling-paper</a></p>
    </div>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="script.js?v=7"></script>
</body>
</html>
